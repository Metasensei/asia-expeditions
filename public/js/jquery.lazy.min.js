!function(t,e){"use strict";function r(r,a,i,l,u){function f(){var e,o,f,d;y=t.devicePixelRatio>1,i=s(i),a.delay>=0&&setTimeout(function(){c(!0)},a.delay),(a.delay<0||a.combined)&&(l.e=(e=a.throttle,o=function(t){"resize"===t.type&&(v=p=-1),c(t.all)},d=0,function(t,n){function i(){d=+new Date,o.call(r,t)}var l=+new Date-d;f&&clearTimeout(f),l>e||!a.enableThrottle||n?i():f=setTimeout(i,e-l)}),l.a=function(t){t=s(t),i.push.apply(i,t)},l.g=function(){return i=n(i).filter(function(){return!n(this).data(a.loadedName)})},l.f=function(t){for(var e=0;e<t.length;e++){var r=i.filter(function(){return this===t[e]});r.length&&c(!1,r)}},c(),n(a.appendScroll).on("scroll."+u+" resize."+u,l.e))}function s(t){for(var i=a.defaultImage,o=a.placeholder,l=a.imageBase,u=a.srcsetAttribute,f=a.loaderAttribute,s=a._f||{},c=0,d=(t=n(t).filter(function(){var t=n(this),r=A(this);return!t.data(a.handledName)&&(t.attr(a.attribute)||t.attr(u)||t.attr(f)||s[r]!==e)}).data("plugin_"+a.name,r)).length;c<d;c++){var h=n(t[c]),m=A(t[c]),b=h.attr(a.imageBaseAttribute)||l;m===L&&b&&h.attr(u)&&h.attr(u,g(h.attr(u),b)),s[m]===e||h.attr(f)||h.attr(f,s[m]),m===L&&i&&!h.attr(T)?h.attr(T,i):m===L||!o||h.css(N)&&"none"!==h.css(N)||h.css(N,"url('"+o+"')")}return t}function c(e,o){if(i.length){for(var l=o||i,u=!1,f=a.imageBase||"",s=a.srcsetAttribute,c=a.handledName,g=0;g<l.length;g++)if(e||o||(w=l[g],void 0,void 0,void 0,void 0,void 0,B=w.getBoundingClientRect(),I=a.scrollDirection,E=a.threshold,F=(p>=0?p:p=n(t).height())+E>B.top&&-E<B.bottom,C=(v>=0?v:v=n(t).width())+E>B.left&&-E<B.right,"vertical"===I?F:"horizontal"===I?C:F&&C)){var h=n(l[g]),m=A(l[g]),b=h.attr(a.attribute),y=h.attr(a.imageBaseAttribute)||f,z=h.attr(a.loaderAttribute);h.data(c)||a.visibleOnly&&!h.is(":visible")||!((b||h.attr(s))&&(m===L&&(y+b!==h.attr(T)||h.attr(s)!==h.attr(D))||m!==L&&y+b!==h.css(N))||z)||(u=!0,h.data(c,!0),d(h,m,y,z))}var w,B,I,E,F,C;u&&(i=n(i).filter(function(){return!n(this).data(c)}))}else a.autoDestroy&&r.destroy()}function d(t,e,r,i){++b;var o=function(){m("onError",t),h(),o=n.noop};m("beforeLoad",t);var l=a.attribute,u=a.srcsetAttribute,f=a.sizesAttribute,s=a.retinaAttribute,c=a.removeAttribute,d=a.loadedName,A=t.attr(s);if(i){var g=function(){c&&t.removeAttr(a.loaderAttribute),t.data(d,!0),m(z,t),setTimeout(h,1),g=n.noop};t.off(B).one(B,o).one(w,g),m(i,t,function(e){e?(t.off(w),g()):(t.off(B),o())})||t.trigger(B)}else{var v=n(new Image);v.one(B,o).one(w,function(){t.hide(),e===L?t.attr(I,v.attr(I)).attr(D,v.attr(D)).attr(T,v.attr(T)):t.css(N,"url('"+v.attr(T)+"')"),t[a.effect](a.effectTime),c&&(t.removeAttr(l+" "+u+" "+s+" "+a.imageBaseAttribute),f!==I&&t.removeAttr(f)),t.data(d,!0),m(z,t),v.remove(),h()});var p=(y&&A?A:t.attr(l))||"";v.attr(I,t.attr(f)).attr(D,t.attr(u)).attr(T,p?r+p:null),v.complete&&v.trigger(w)}}function A(t){return t.tagName.toLowerCase()}function g(t,e){if(e){var r=t.split(",");t="";for(var a=0,n=r.length;a<n;a++)t+=e+r[a].trim()+(a!==n-1?",":"")}return t}function h(){--b,i.length||b||m("onFinishedAll")}function m(t,e,n){return!!(t=a[t])&&(t.apply(r,[].slice.call(arguments,1)),!0)}var b=0,v=-1,p=-1,y=!1,z="afterLoad",w="load",B="error",L="img",T="src",D="srcset",I="sizes",N="background-image";"event"===a.bind||o?f():n(t).on(w+"."+u,f)}function a(a,o){var l=this,u=n.extend({},l.config,o),f={},s=u.name+"-"+ ++i;return l.config=function(t,r){return r===e?u[t]:(u[t]=r,l)},l.addItems=function(t){return f.a&&f.a("string"===n.type(t)?n(t):t),l},l.getItems=function(){return f.g?f.g():{}},l.update=function(t){return f.e&&f.e({},!t),l},l.force=function(t){return f.f&&f.f("string"===n.type(t)?n(t):t),l},l.loadAll=function(){return f.e&&f.e({all:!0},!0),l},l.destroy=function(){return n(u.appendScroll).off("."+s,f.e),n(t).off("."+s),f={},e},r(l,u,a,f,s),u.chainable?a:l}var n=t.jQuery||t.Zepto,i=0,o=!1;n.fn.Lazy=n.fn.lazy=function(t){return new a(this,t)},n.Lazy=n.lazy=function(t,r,i){if(n.isFunction(r)&&(i=r,r=[]),n.isFunction(i)){t=n.isArray(t)?t:[t],r=n.isArray(r)?r:[r];for(var o=a.prototype.config,l=o._f||(o._f={}),u=0,f=t.length;u<f;u++)(o[t[u]]===e||n.isFunction(o[t[u]]))&&(o[t[u]]=i);for(var s=0,c=r.length;s<c;s++)l[r[s]]=t[0]}},a.prototype.config={name:"lazy",chainable:!0,autoDestroy:!0,bind:"load",threshold:500,visibleOnly:!1,appendScroll:t,scrollDirection:"both",imageBase:null,defaultImage:"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",placeholder:null,delay:-1,combined:!1,attribute:"data-src",srcsetAttribute:"data-srcset",sizesAttribute:"data-sizes",retinaAttribute:"data-retina",loaderAttribute:"data-loader",imageBaseAttribute:"data-imagebase",removeAttribute:!0,handledName:"handled",loadedName:"loaded",effect:"show",effectTime:0,enableThrottle:!0,throttle:250,beforeLoad:e,afterLoad:e,onError:e,onFinishedAll:e},n(t).on("load",function(){o=!0})}(window);